[{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\.expo\\types\\router.d.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'T' is defined but never used.","line":8,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\(tabs)\\_layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\(tabs)\\explore.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'presentCount' is assigned a value but never used.","line":115,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":115,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useTheme } from '@/context/ThemeContext';\nimport { useRouter } from 'expo-router';\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { ActivityIndicator, FlatList, RefreshControl, ScrollView, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { AttendanceService, DailyAttendance } from '../../services/attendance';\nimport { AuthService } from '../../services/auth';\n\nexport default function DateWiseScreen() {\n  const [days, setDays] = useState<DailyAttendance[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedMonth, setSelectedMonth] = useState<string>('All');\n  const router = useRouter();\n  const insets = useSafeAreaInsets();\n  const { colors, isDark } = useTheme();\n\n  const fetchData = useCallback(async () => {\n    try {\n      const isLoggedIn = await AuthService.isLoggedIn();\n      if (!isLoggedIn) {\n        router.replace('/login');\n        return;\n      }\n\n      const data = await AttendanceService.getDateWiseAttendance();\n      // Sort in descending order (newest first)\n      const sortedDays = data.days.sort((a, b) => {\n        const [dayA, monthA, yearA] = a.date.split('-').map(Number);\n        const [dayB, monthB, yearB] = b.date.split('-').map(Number);\n        const dateA = new Date(yearA, monthA - 1, dayA);\n        const dateB = new Date(yearB, monthB - 1, dayB);\n        return dateB.getTime() - dateA.getTime();\n      });\n      setDays(sortedDays);\n    } catch (error) {\n      console.error('Date-wise attendance fetch error:', error);\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, [router]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const onRefresh = useCallback(() => {\n    setRefreshing(true);\n    fetchData();\n  }, [fetchData]);\n\n  // Extract unique months from the data\n  const months = useMemo(() => {\n    const monthSet = new Set<string>();\n    days.forEach(day => {\n      const parts = day.date.split('-');\n      if (parts.length >= 3) {\n        const monthNum = parseInt(parts[1], 10);\n        const year = parts[2];\n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        const monthName = monthNames[monthNum - 1] || 'Unknown';\n        monthSet.add(`${monthName} ${year}`);\n      }\n    });\n    return ['All', ...Array.from(monthSet)];\n  }, [days]);\n\n  // Filter days by selected month\n  const filteredDays = useMemo(() => {\n    if (selectedMonth === 'All') return days;\n\n    return days.filter(day => {\n      const parts = day.date.split('-');\n      if (parts.length >= 3) {\n        const monthNum = parseInt(parts[1], 10);\n        const year = parts[2];\n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        const monthName = monthNames[monthNum - 1] || 'Unknown';\n        return selectedMonth === `${monthName} ${year}`;\n      }\n      return false;\n    });\n  }, [days, selectedMonth]);\n\n  if (loading) {\n    return (\n      <View style={[styles.centerContainer, { backgroundColor: colors.background }]}>\n        <ActivityIndicator size=\"large\" color={colors.primary} />\n      </View>\n    );\n  }\n\n  const renderPeriodCell = (status: string, index: number) => {\n    let bgColor = isDark ? '#3a3a5e' : '#E5E5EA';\n    let textColor = colors.textSecondary;\n\n    if (status === 'P') {\n      bgColor = colors.successBg;\n      textColor = colors.success;\n    } else if (status === 'A') {\n      bgColor = colors.errorBg;\n      textColor = colors.error;\n    }\n\n    return (\n      <View key={index} style={[styles.periodCell, { backgroundColor: bgColor }]}>\n        <Text style={[styles.periodText, { color: textColor }]}>{status === 'null' ? '‚ÅÉ' : status}</Text>\n      </View>\n    );\n  };\n\n  const renderDayItem = ({ item }: { item: DailyAttendance }) => {\n    const presentCount = item.periods.filter(p => p === 'P').length;\n    const absentCount = item.periods.filter(p => p === 'A').length;\n    const isGood = absentCount === 0;\n\n    return (\n      <View style={[styles.dayCard, { backgroundColor: colors.card, shadowColor: isDark ? '#000' : '#888' }]}>\n        <View style={[styles.dayAccent, { backgroundColor: isGood ? colors.success : colors.error }]} />\n        <View style={styles.dayContent}>\n          <View style={styles.dayHeader}>\n            <View>\n              <Text style={[styles.dateText, { color: colors.text }]}>{item.date}</Text>\n              <Text style={[styles.dayText, { color: colors.textSecondary }]}>{item.day}</Text>\n            </View>\n            <View style={[styles.statusBadge, { backgroundColor: isGood ? colors.success + '20' : colors.error + '20' }]}>\n              <Text style={{ color: isGood ? colors.success : colors.error, fontSize: 12, fontWeight: 'bold' }}>\n                {isGood ? 'Present' : 'Absent'}\n              </Text>\n            </View>\n          </View>\n          <View style={styles.periodsRow}>\n            {item.periods.map((status, index) => renderPeriodCell(status, index))}\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <View style={[styles.container, { paddingTop: insets.top, backgroundColor: colors.background }]}>\n      <StatusBar style={isDark ? \"light\" : \"dark\"} />\n\n      <FlatList\n        data={filteredDays}\n        keyExtractor={(item, index) => `${item.date}-${index}`}\n        renderItem={renderDayItem}\n        contentContainerStyle={styles.listContent}\n        refreshControl={<RefreshControl refreshing={refreshing} onRefresh={onRefresh} tintColor={colors.text} />}\n        ListHeaderComponent={() => (\n          <View>\n            {/* Title */}\n            <View style={styles.header}>\n              <Text style={[styles.headerTitle, { color: colors.text }]}>Date-wise Attendance</Text>\n              <Text style={[styles.headerCount, { color: colors.textSecondary }]}>{filteredDays.length} days</Text>\n            </View>\n\n            {/* Month Filter */}\n            <ScrollView\n              horizontal\n              showsHorizontalScrollIndicator={false}\n              style={styles.filterContainer}\n              contentContainerStyle={styles.filterScroll}\n            >\n              {months.map((month) => (\n                <TouchableOpacity\n                  key={month}\n                  style={[\n                    styles.filterChip,\n                    { backgroundColor: colors.badge },\n                    selectedMonth === month && { backgroundColor: colors.primary }\n                  ]}\n                  onPress={() => setSelectedMonth(month)}\n                >\n                  <Text style={[\n                    styles.filterChipText,\n                    { color: colors.textSecondary },\n                    selectedMonth === month && { color: '#fff' }\n                  ]}>\n                    {month}\n                  </Text>\n                </TouchableOpacity>\n              ))}\n            </ScrollView>\n\n            {/* Period Legend */}\n            <View style={[styles.legendCard, { backgroundColor: colors.card }]}>\n              <Text style={[styles.legendTitle, { color: colors.textSecondary }]}>Periods</Text>\n              <View style={styles.legendRow}>\n                {['P1', 'P2', 'P3', 'P4', 'P5', 'P6'].map((p, i) => (\n                  <View key={i} style={[styles.legendItem, { backgroundColor: isDark ? '#3a3a5e' : '#E5E5EA' }]}>\n                    <Text style={[styles.legendText, { color: colors.text }]}>{p}</Text>\n                  </View>\n                ))}\n              </View>\n            </View>\n          </View>\n        )}\n        ListEmptyComponent={() => (\n          <View style={styles.emptyContainer}>\n            <Text style={[styles.emptyText, { color: colors.textSecondary }]}>No attendance records found</Text>\n          </View>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  centerContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  listContent: {\n    padding: 16,\n    paddingBottom: 100,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  headerTitle: {\n    fontSize: 22,\n    fontWeight: 'bold',\n  },\n  headerCount: {\n    fontSize: 14,\n  },\n  filterContainer: {\n    marginBottom: 20,\n  },\n  filterScroll: {\n    paddingRight: 16,\n  },\n  filterChip: {\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 20,\n    marginRight: 12,\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 2,\n  },\n  filterChipText: {\n    fontSize: 14,\n    fontWeight: '500',\n  },\n  legendCard: {\n    borderRadius: 16,\n    padding: 16,\n    marginBottom: 20,\n  },\n  legendTitle: {\n    fontSize: 14,\n    marginBottom: 12,\n  },\n  legendRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n  },\n  legendItem: {\n    width: 40,\n    height: 32,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  legendText: {\n    fontSize: 12,\n    fontWeight: '600',\n  },\n  dayCard: {\n    borderRadius: 24,\n    flexDirection: 'row',\n    marginBottom: 16,\n    overflow: 'hidden',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.1,\n    shadowRadius: 12,\n    elevation: 4,\n  },\n  dayAccent: {\n    width: 5,\n  },\n  dayContent: {\n    flex: 1,\n    padding: 16,\n  },\n  dayHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  dateText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  dayText: {\n    fontSize: 14,\n  },\n  periodsRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  periodCell: {\n    width: 44,\n    height: 36,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  periodText: {\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  statusBadge: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 12,\n  },\n  statsRow: {\n    alignItems: 'flex-end',\n  },\n  statText: {\n    fontSize: 12,\n  },\n  emptyContainer: {\n    padding: 40,\n    alignItems: 'center',\n  },\n  emptyText: {\n    fontSize: 16,\n  },\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\(tabs)\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\+not-found.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":9,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[319,345],"text":"This screen doesn&apos;t exist."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[319,345],"text":"This screen doesn&lsquo;t exist."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[319,345],"text":"This screen doesn&#39;t exist."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[319,345],"text":"This screen doesn&rsquo;t exist."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Link, Stack } from 'expo-router';\r\nimport { StyleSheet, Text, View } from 'react-native';\r\n\r\nexport default function NotFoundScreen() {\r\n    return (\r\n        <>\r\n            <Stack.Screen options={{ title: 'Oops!' }} />\r\n            <View style={styles.container}>\r\n                <Text style={styles.title}>This screen doesn't exist.</Text>\r\n                <Link href=\"/\" style={styles.link}>\r\n                    <Text style={styles.linkText}>Go to home screen!</Text>\r\n                </Link>\r\n            </View>\r\n        </>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: 20,\r\n    },\r\n    title: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n    },\r\n    link: {\r\n        marginTop: 15,\r\n        paddingVertical: 15,\r\n    },\r\n    linkText: {\r\n        fontSize: 14,\r\n        color: '#2e78b7',\r\n    },\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\_layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\app\\notifications.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\ResultsOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\animated-tab-bar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\external-link.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\haptic-tab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\hello-wave.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\parallax-scroll-view.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\themed-text.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\themed-view.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\ui\\icon-symbol.ios.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\components\\ui\\icon-symbol.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\constants\\theme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\context\\ResultsContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\context\\ThemeContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\debug-html.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\expo-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\hooks\\use-color-scheme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\hooks\\use-color-scheme.web.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\hooks\\use-theme-color.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\hooks\\useLogout.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":39,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRouter } from 'expo-router';\r\nimport { useState } from 'react';\r\nimport { AuthService } from '../services/auth';\r\n\r\nexport const useLogout = () => {\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleLogout = async () => {\r\n    // Safety fallback: if everything hangs, force navigation after 3 seconds\r\n    const forceTimer = setTimeout(() => {\r\n      console.log('Force navigation triggered');\r\n      setLoggingOut(false);\r\n      router.replace('/');\r\n    }, 3000);\r\n\r\n    try {\r\n      setLoggingOut(true);\r\n      console.log('Logout initiated');\r\n\r\n      // Race the logout against a 1.5-second timeout (improved responsiveness)\r\n      const logoutPromise = AuthService.logout()\r\n        .catch(err => console.error('AuthService logout error:', err));\r\n\r\n      const timeoutPromise = new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n      await Promise.race([logoutPromise, timeoutPromise]);\r\n      console.log('Logout op finished (or timed out)');\r\n\r\n      // Cancel the force timer as we are about to navigate normally\r\n      clearTimeout(forceTimer);\r\n\r\n      // Add a small delay to ensure state updates settle before navigation\r\n      setTimeout(() => {\r\n        console.log('Executing navigation to /');\r\n        setLoggingOut(false);\r\n        try {\r\n          if (router.canDismiss()) router.dismissAll();\r\n        } catch (e) {\r\n          // ignore\r\n        }\r\n        router.replace('/login');\r\n      }, 100);\r\n\r\n    } catch (error) {\r\n      console.error('Logout handler failed:', error);\r\n      router.replace('/login');\r\n    }\r\n  };\r\n\r\n  return { handleLogout, loggingOut };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\scripts\\reset-project.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\services\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\services\\attendance.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":6,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":48,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\services\\auth.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":5,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":48,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\services\\notification.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":6,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":48,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\bharat kumar\\OneDrive\\Desktop\\MarkIt\\utils\\storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]